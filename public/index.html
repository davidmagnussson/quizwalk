<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Welcome to quizwalk!</title>
    <!-- update the version number as needed -->
    <script defer src="/__/firebase/6.0.1/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/6.0.1/firebase-auth.js"></script>
    <script defer src="/__/firebase/6.0.1/firebase-database.js"></script>
    <script defer src="/__/firebase/6.0.1/firebase-messaging.js"></script>
    <script defer src="/__/firebase/6.0.1/firebase-storage.js"></script>
    <!-- initialize the SDK after all desired features are loaded -->
    <script defer src="/__/firebase/init.js"></script>
    <!-- slut på firebase-scripts -->
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script src="https://code.jquery.com/jquery.js"></script>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/onsenui/css/onsen-css-components.min.css"
    />
    <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <title>Quiz walk</title>
    <!-- Länk till vår css -->
    <link rel="stylesheet" type="text/css" href="index.css" />
    <!-- Script vi använder oss utav -->
    <script src="cordova.js"></script>
    <script src="libs/jquery/jquery.js"></script>
    <!-- <script src="libs/evothings/evothings.js"></script>
    <script src="libs/evothings/ui/ui.js"></script> -->
    <!-- app.js är där vi läser/hanterar beacons -->
    <script src="main.js"></script>
    <!-- main.js innehåller alla firebase funktioner-->
    <style>
      #map2 {
        height: 90vh;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <!--
    <div id="login" class="col-sm-12 text-center" style="display:none">
      <nav class="navbar navbar-default">
        <div class="container-fluid justify-content-center">
          <div class="navbar-header">
            <p class="navbar-brand">QuizWalk</p>
          </div>
        </div>
      </nav>
      <span class="my-5" id="startBtns"></span>
    </div>

    <div id="guide" style="display:none">
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <ons-toolbar>
              <ons-back-button id="back2Login"></ons-back-button>
              <div class="center">QuizeWalk</div>
            </ons-toolbar>

            <button type="button" id="back2Login"><</button>
            <p class="navbar-brand" id="headerPlace">QuizWalk</p>

          </div>
        </div>
      </nav>
    </div>

    <div id="joinOrStart" style="display:none"></div>

    <div id="startGame" style="display:none"></div>

    <div id="joinGame" style="display:none"></div>

    <div id="game" style="display:none"></div>





    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="../app.js"></script>
    <script src="../view/loginView.js"></script>
    <script src="../controller/loginController.js"></script>
    <script src="../view/guideView.js"></script>
    <script src="../controller/guideController.js"></script>
    <script src="model.js"></script>
  -->

    <ons-navigator swipeable id="myNavigator" page="login.html"></ons-navigator>

    <template id="login.html">
      <ons-page id="login">
        <ons-toolbar>
          <div class="center">QuizWalk</div>
        </ons-toolbar>
        <div style="text-align: center; margin-top: 200px">
          <p>
            <ons-input id="username" placeholder="Username" modifier="underbar"></ons-input>
          </p>
          <p>
            <ons-input id="password" placeholder="Password" type="password" modifier="underbar">
            </ons-input>
          </p>
          <p>
            <ons-button id="login">Login</ons-button>
            <ons-button id="about">About</ons-button>
          </p>
        </div>
      </ons-page>
    </template>

    <template id="about.html">
      <ons-page id="about">
        <ons-toolbar>
          <div class="left"><ons-back-button>Back</ons-back-button></div>
          <div class="center">QuizWalk</div>
        </ons-toolbar>

        <p>About page</p>
      </ons-page>
    </template>

    <template id="startGame.html">
      <ons-page id="startGame">
        <ons-toolbar>
          <div class="center">QuizWalk</div>
        </ons-toolbar>

        <p style="text-align: center;">Start a game!</p>
        <div style="text-align: center; margin-top: 200px">
          <p>
            <ons-button id="history">History</ons-button>
          </p>
          <p>
            <ons-button id="science">Science</ons-button>
          </p>
          <p>
            <ons-button id="sports">Sports</ons-button>
          </p>
        </div>
      </ons-page>
    </template>

    <template id="gamePlay.html">
      <ons-page id="gamePlay">
        <ons-toolbar>
          <div class="left" id="endGame"><ons-back-button>End Game</ons-back-button></div>
          <div class="center">QuizWalk</div>
        </ons-toolbar>
        <ons-page ng-controller="TabbarController">

          <ons-tabbar swipeable position="auto" ons-prechange="updateTitle($event)">
            <ons-tab  id="map" page="map.html" label="Map" icon="md-pin, material:md-home"  active-icon="md-pin">
            </ons-tab>
            <ons-tab id="game" page="game.html" label="Quize Game" icon="md-help" active active-icon="md-help">
            </ons-tab>
            <ons-tab id="profile" page="profile.html" label="Profile" icon="md-face" active-icon="md-face">
            </ons-tab>
          </ons-tabbar>
        </ons-page>
      </ons-page>
    </template>

        <template id="map.html">
            <div id="map2"></div>
        </template>

        <template id="game.html">
          <ons-page id="game">
            <p style="text-align: center;">
              This is the second page.
            </p>
          </ons-page>
        </template>

        <template id="profile.html">
          <ons-page id="profile">
            <p style="text-align: center;">
              This is the second page.
            </p>
          </ons-page>
        </template>



    <script>
      var map2;
      function initMap() {
        map2 = new google.maps.Map(document.getElementById('map2'), {
          center: {lat: -34.397, lng: 150.644},
          zoom: 8
        });
      }

      document.addEventListener('init', function(event) {
        var page = event.target;

        if (page.id === 'login') {
            page.querySelector('#about').onclick = function() {
              document.querySelector('#myNavigator').pushPage('about.html', {data: {title: 'About'}});
            };
            page.querySelector('#login').onclick = function() {
              const username = document.querySelector('#username').value;
              const password = document.querySelector('#password').value;

              if (username == '' && password == '') {
                // call the navigator to move to the new page
                document.querySelector('#myNavigator').pushPage('startGame.html', {data: {title: 'startGame'}});

              }
              else {
                ons.notification.alert('Wrong username/password combination');
              }
            }
          }

        else if (page.id === 'about') {
          document.querySelector('#myNavigator').pushPage('about.html', {data: {title: 'About'}});
        }

        else if (page.id === 'startGame') {
          page.querySelector('#history').onclick = function() {
            document.querySelector('#myNavigator').pushPage('gamePlay.html', {data: {title: ''}});

          };
          page.querySelector('#science').onclick = function() {
            document.querySelector('#myNavigator').pushPage('gamePlay.html', {data: {title: ''}});
          };
          page.querySelector('#sports').onclick = function() {
            document.querySelector('#myNavigator').pushPage('gamePlay.html', {data: {title: ''}});
          };
        }
        else if(page.id === 'gamePlay') {
          page.querySelector('#map').onclick  =  function(){
            document.querySelector('#myNavigator').pushPage('map.html', {data: {title: 'map'}});
            initMap();
          }
        }
        else if(page.id === 'gamePlay') {
          page.querySelector('#game').onclick  =  function(){
            document.querySelector('#myNavigator').pushPage('game.html', {data: {title: 'game'}});
          }
        }
        else if(page.id === 'gamePlay') {
          page.querySelector('#profile').onclick  =  function(){
            document.querySelector('#myNavigator').pushPage('profile.html', {data: {title: 'profile'}});
          }
        }
      });

    </script>

    <script
      src="https://maps.googleapis.com/maps/api/js?callback=initMap" async defer>
    </script>
  </body>
</html>
